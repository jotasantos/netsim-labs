! Command: show running-config
! device: rr1 (cEOSLab, EOS-4.27.0F-24305004.4270F (engineering build))
!
no aaa root
!
username admin privilege 15 role network-admin secret sha512 $6$0h9MV5MZRegJeeLm$EDDAAdEqUkXjYiYfXC76e1KY/reEnKsZS6kRwcSKk/u571nOY/jB73D9uKun.tvq4xGydGVnJekWKw6uQ2XdP1
!
transceiver qsfp default-mode 4x10G
!
service routing protocols model multi-agent
!
hostname rr1
ip host c11 10.0.0.6 10.1.0.21
ip host c12 10.0.0.7 10.1.0.25
ip host c21 10.0.0.8 10.1.0.29
ip host cx1 10.0.0.9 10.1.0.33
ip host pe1 10.0.0.3 10.1.0.1 10.1.0.22 10.1.0.26 10.1.0.9
ip host pe2 10.0.0.4 10.1.0.13 10.1.0.30 10.1.0.5
ip host rr2 10.0.0.2 10.1.0.10 10.1.0.14
ip host x1 10.0.0.5 10.1.0.18 10.1.0.34
!
spanning-tree mode mstp
!
management api http-commands
   no shutdown
!
management api gnmi
   transport grpc default
!
management api netconf
   transport ssh default
!
interface Ethernet1
   description rr1 -> pe1
   mac-address 52:dc:ca:fe:01:01
   no switchport
   ip address 10.1.0.2/30
   ip ospf network point-to-point
   ip ospf area 0.0.0.0
!
interface Ethernet2
   description rr1 -> pe2
   mac-address 52:dc:ca:fe:01:02
   no switchport
   ip address 10.1.0.6/30
   ip ospf network point-to-point
   ip ospf area 0.0.0.0
!
interface Ethernet3
   description rr1 -> x1 [external]
   mac-address 52:dc:ca:fe:01:03
   no switchport
   ip address 10.1.0.17/30
!
interface Loopback0
   ip address 10.0.0.1/32
   ip ospf area 0.0.0.0
!
interface Management0
   ip address 172.20.20.3/24
   ipv6 address 2001:172:20:20::3/64
   no lldp transmit
   no lldp receive
!
ip routing
!
mpls ip
!
mpls ldp
   router-id interface Loopback0
   no shutdown
!
router bgp 65000
   router-id 10.0.0.1
   bgp cluster-id 10.0.0.1
   bgp route-reflector preserve-attributes
   bgp advertise-inactive
   neighbor 10.0.0.2 remote-as 65000
   neighbor 10.0.0.2 next-hop-self
   neighbor 10.0.0.2 update-source Loopback0
   neighbor 10.0.0.2 description rr2
   neighbor 10.0.0.2 send-community standard extended
   neighbor 10.0.0.3 remote-as 65000
   neighbor 10.0.0.3 next-hop-self
   neighbor 10.0.0.3 update-source Loopback0
   neighbor 10.0.0.3 description pe1
   neighbor 10.0.0.3 route-reflector-client
   neighbor 10.0.0.3 send-community standard extended
   neighbor 10.0.0.4 remote-as 65000
   neighbor 10.0.0.4 next-hop-self
   neighbor 10.0.0.4 update-source Loopback0
   neighbor 10.0.0.4 description pe2
   neighbor 10.0.0.4 route-reflector-client
   neighbor 10.0.0.4 send-community standard extended
   neighbor 10.1.0.18 remote-as 65001
   neighbor 10.1.0.18 description x1
   neighbor 10.1.0.18 send-community standard
   !
   address-family ipv4
      neighbor 10.0.0.2 activate
      neighbor 10.0.0.3 activate
      neighbor 10.0.0.4 activate
      neighbor 10.1.0.18 activate
   !
   address-family vpn-ipv4
      neighbor 10.0.0.2 activate
      neighbor 10.0.0.3 activate
      neighbor 10.0.0.4 activate
      neighbor 10.1.0.18 activate
      neighbor 10.0.0.2 encapsulation mpls next-hop-self source-interface Loopback0
      neighbor 10.0.0.3 encapsulation mpls next-hop-self source-interface Loopback0
      neighbor 10.0.0.4 encapsulation mpls next-hop-self source-interface Loopback0
      neighbor 10.0.0.18 encapsulation mpls next-hop-self source-interface Loopback0
!
router multicast
   ipv4
      routing
!
router ospf 1
   router-id 10.0.0.1
   max-lsa 12000
!
end