addressing:
  l2only: {}
  lan:
    ipv4: 172.16.0.0/16
    prefix: 24
  loopback:
    ipv4: 10.0.0.0/24
    prefix: 32
  mgmt:
    ipv4: 192.168.121.0/24
    mac: 08-4F-A9-00-00-00
    prefix: 24
    start: 100
  p2p:
    ipv4: 10.1.0.0/16
    prefix: 30
  router_id:
    ipv4: 10.0.0.0/24
    prefix: 32
bgp:
  advertise_loopback: true
  as_list:
    65000:
      members:
      - rr1
      - rr2
      - pe1
      - pe2
      rr:
      - rr1
      - rr2
    65001:
      members:
      - x1
  community:
    ebgp:
    - standard
    ibgp:
    - standard
    - extended
  next_hop_self: true
defaults:
  addressing:
    l2only: null
    lan:
      ipv4: 172.16.0.0/16
    loopback:
      ipv4: 10.0.0.0/24
    mgmt:
      ipv4: 192.168.121.0/24
      mac: 08-4F-A9-00-00-00
      start: 100
    p2p:
      ipv4: 10.1.0.0/16
    router_id:
      ipv4: 10.0.0.0/24
      prefix: 32
  attributes:
    global:
    - addressing
    - defaults
    - groups
    - links
    - module
    - name
    - nodes
    - plugin
    - provider
    internal:
    - input
    - includes
    - pools
    - Provider
    - Plugin
    link:
    - bandwidth
    - bridge
    - name
    - prefix
    - role
    - type
    - unnumbered
    - interfaces
    - mtu
    - gateway
    link_internal:
    - linkindex
    link_no_propagate:
    - prefix
    - interfaces
    - gateway
    node:
    - role
    - mtu
    - runtime
    - provider
    - id
    - loopback
    - cpu
    - memory
  automation:
    ansible:
      cleanup:
      - ansible.cfg
      - hosts.yml
      - group_vars
      - host_vars
      - config
  bfd:
    attributes:
      global:
      - min_tx
      - min_rx
      - min_echo_rx
      - multiplier
      link:
      - min_tx
      - min_rx
      - min_echo_rx
      - multiplier
      node:
      - min_tx
      - min_rx
      - min_echo_rx
      - multiplier
    min_echo_rx: 0
    multiplier: 3
    supported_on:
    - srlinux
    - sros
    - iosv
    - csr
    - nxos
    - eos
  bgp:
    advertise_loopback: true
    advertise_roles:
    - stub
    attributes:
      global:
      - af
      - as
      - next_hop_self
      - rr_cluster_id
      - rr_list
      - ebgp_role
      - as_list
      - advertise_loopback
      - advertise_roles
      - community
      - address_families
      interface:
      - local_as
      link:
      - advertise
      node:
      - af
      - as
      - next_hop_self
      - rr
      - rr_cluster_id
      - originate
      - advertise_loopback
      - community
      - router_id
      - address_families
      - local_as
      node_copy:
      - local_as
    community:
      ebgp:
      - standard
      ibgp:
      - standard
      - extended
    ebgp_role: external
    next_hop_self: true
    no_propagate:
    - ebgp_role
    - advertise_roles
    - rr_list
    - as_list
    supported_on:
    - cumulus
    - cumulus_nvue
    - eos
    - frr
    - csr
    - iosv
    - nxos
    - vsrx
    - vyos
    - routeros
    - srlinux
    - sros
    - none
  device: eos
  devices:
    arcos:
      group_vars:
        ansible_network_os: arcos
        ansible_ssh_pass: arcos
        ansible_user: root
      interface_name: swp%d
      libvirt:
        image: arcos/arcos4.1.1
      mgmt_if: ma1
    csr:
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
        isis:
          unnumbered:
            ipv4: true
            ipv6: true
            network: true
        mpls:
          bgp: true
          ldp: true
          vpn: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_become_method: enable
        ansible_become_password: vagrant
        ansible_connection: network_cli
        ansible_network_os: ios
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
      ifindex_offset: 2
      interface_name: GigabitEthernet%d
      libvirt:
        create: virt-install --connect=qemu:///system --name=vm_box --os-type=linux
          --os-variant=rhel4 --arch=x86_64 --cpu host --vcpus=1 --hvm --ram=4096 --disk
          path=vm.qcow2,bus=ide,format=qcow2 --network=network:vagrant-libvirt,model=virtio
          --graphics none --import
        image: cisco/csr1000v
      node:
        min_mtu: 1500
      virtualbox:
        image: cisco/csr1000v
    cumulus:
      clab:
        group_vars:
          ansible_connection: docker
          ansible_user: root
        image: networkop/cx:4.3.0
        mtu: 1500
        node:
          kind: cvx
        runtime: docker
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_connection: paramiko
        ansible_network_os: cumulus
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
      interface_name: swp%d
      libvirt:
        image: CumulusCommunity/cumulus-vx:4.4.0
      mgmt_if: eth0
      virtualbox:
        image: CumulusCommunity/cumulus-vx:4.3.0
    cumulus_nvue:
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_connection: paramiko
        ansible_network_os: cumulus_nvue
        ansible_ssh_pass: cumulus
        ansible_user: cumulus
      interface_name: swp%d
      libvirt:
        image: CumulusCommunity/cumulus-vx:5.0.1
      mgmt_if: eth0
      virtualbox:
        image: CumulusCommunity/cumulus-vx:5.0.1
    eos:
      clab:
        group_vars:
          ansible_become: true
          ansible_become_method: enable
          ansible_ssh_pass: admin
          ansible_user: admin
        image: ceos:4.26.4M
        interface:
          name: et%d
        mgmt_if: Management0
        node:
          env:
            INTFTYPE: et
          kind: ceos
      description: Arista vEOS
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
          system_mtu: true
        isis:
          unnumbered:
            ipv4: true
            ipv6: true
            network: true
        mpls:
          bgp: true
          ldp: true
          vpn: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_connection: network_cli
        ansible_network_os: eos
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
      interface_name: Ethernet%d
      libvirt:
        create: "virt-install --connect=qemu:///system --name=vm_box --os-type=linux\
          \ --arch=x86_64 --cpu host --vcpus=2 --hvm\n  --ram=2048 --disk path=vm.qcow2,bus=ide,format=qcow2\
          \ --network=network:vagrant-libvirt,model=virtio --graphics none --import\n"
        image: arista/veos
      mgmt_if: Management1
      virtualbox:
        image: arista/veos
    fortios:
      group_vars:
        ansible_connection: httpapi
        ansible_httpapi_port: 80
        ansible_httpapi_use_ssl: false
        ansible_httpapi_validate_certs: false
        ansible_network_os: fortinet.fortios.fortios
        ansible_password: admin
        ansible_user: admin
        collections:
        - fortinet.fortios
        netsim_console_connection: ssh
        vdom: root
      ifindex_offset: 2
      interface_name: port%d
      libvirt:
        image: fortinet/fortios
      mgmt_if: port1
    frr:
      clab:
        image: frrouting/frr:v7.5.0
        mtu: 1500
        node:
          kind: linux
      group_vars:
        ansible_connection: docker
        ansible_network_os: frr
      interface_name: eth%d
      mgmt_if: eth0
    iosv:
      features:
        initial:
          ipv4:
            unnumbered: false
          ipv6:
            lla: true
        isis:
          unnumbered:
            ipv4: true
            ipv6: true
            network: true
        mpls:
          bgp: true
          ldp: true
          vpn: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_become_method: enable
        ansible_become_password: vagrant
        ansible_connection: network_cli
        ansible_network_os: ios
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
      interface_name: GigabitEthernet0/%d
      libvirt:
        create: virt-install --connect=qemu:///system --name=vm_box --os-type=linux
          --arch=x86_64 --cpu host --vcpus=1 --noacpi --machine=pc-1.0 --virt-type=kvm
          --watchdog i6300esb,action=reset --ram=512 --disk path=vm.qcow2,bus=virtio,format=qcow2,cache=writethrough
          --network=network:vagrant-libvirt,model=e1000 --graphics none --import
        image: cisco/iosv
      virtualbox:
        image: cisco/iosv
    linux:
      clab:
        group_vars:
          ansible_connection: docker
          ansible_python_interpreter: /usr/local/bin/python3
          ansible_user: root
        image: python:3.9-alpine
        mtu: 1500
        node:
          kind: linux
      group_vars:
        ansible_connection: paramiko
        ansible_network_os: linux
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
        docker_shell: sh
      interface_name: eth%d
      libvirt:
        image: generic/ubuntu2004
      mgmt_if: eth0
      role: host
      virtualbox:
        image: generic/ubuntu2004
    none:
      group_vars:
        ansible_connection: paramiko_ssh
        ansible_network_os: none
      interface_name: eth%d
      libvirt:
        image: none
      virtualbox:
        image: none
    nxos:
      bfd:
        min_rx: 500
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
        isis:
          unnumbered:
            ipv4: true
            ipv6: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_connection: network_cli
        ansible_network_os: nxos
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
      interface_name: Ethernet1/%d
      libvirt:
        create_template: nxos.xml.j2
        image: cisco/nexus9300v
      mgmt_if: mgmt0
      virtualbox:
        image: cisco/nexus9300v
    routeros:
      group_vars:
        ansible_connection: network_cli
        ansible_network_os: routeros
        ansible_ssh_pass: admin
        ansible_user: admin
      ifindex_offset: 2
      interface_name: ether%d
      libvirt:
        image: mikrotik/chr
      mgmt_if: ether1
    srlinux:
      bfd:
        min_rx: 100
        min_tx: 100
      clab:
        group_vars:
          srlinux_grpc_port: 57400
        image: ghcr.io/nokia/srlinux
        interface:
          name: e1-%d
        node:
          kind: srl
          type: ixrd2
      features:
        initial:
          ipv4:
            unnumbered: false
          ipv6:
            lla: true
          system_mtu: true
        isis:
          unnumbered:
            ipv4: false
            ipv6: true
            network: false
        ospf:
          unnumbered: false
      group_vars:
        ansible_connection: paramiko
        ansible_network_os: srlinux
        ansible_ssh_pass: admin
        ansible_user: admin
        netsim_console_connection: ssh
      interface_name: ethernet-1/%d
      mgmt_if: mgmt0
      sr:
        ipv6_sid_offset: 100
        srgb_range_size: 1000
        srgb_range_start: 500000
    sros:
      bfd:
        min_rx: 100
        min_tx: 100
      bgp:
        address_families:
          ebgp:
          - ipv4
          - ipv6
          ibgp:
          - ipv4
          - ipv6
      clab:
        group_vars:
          sros_grpc_port: 57400
        image: vrnetlab/vr-sros
        interface:
          name: eth%d
        node:
          kind: vr-sros
          license: /Projects/SR_OS_VSR-SIM_license.txt
          type: sr-1
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
        isis:
          unnumbered:
            ipv4: true
            ipv6: true
            network: false
        ospf:
          unnumbered: true
      group_vars:
        ansible_connection: paramiko_ssh
        ansible_network_os: sros
        ansible_ssh_pass: admin
        ansible_user: admin
        netsim_console_connection: ssh
        sros_use_openconfig: false
      interface_name: 1/1/c%d
      mgmt_if: A/1
      sr:
        ipv6_sid_offset: 100
        srgb_range_size: 1000
        srgb_range_start: 500000
    vsrx:
      features:
        initial:
          ipv4:
            unnumbered: true
          ipv6:
            lla: true
        isis:
          unnumbered:
            ipv4: true
            ipv6: true
        ospf:
          unnumbered: true
      group_vars:
        ansible_connection: netconf
        ansible_network_os: junos
        ansible_ssh_pass: Vagrant
        ansible_user: vagrant
        netsim_console_connection: ssh
      ifindex_offset: 0
      interface_name: ge-0/0/%d
      libvirt:
        create: virt-install --connect=qemu:///system --name=vm_box --os-variant=freebsd10
          --arch=x86_64 --cpu host --vcpus=2 --hvm --ram=4096 --disk path=vm.qcow2,bus=ide,format=qcow2
          --disk path=bootstrap.iso,device=cdrom,bus=ide --boot hd --network=network:vagrant-libvirt,model=virtio
          --graphics none --import
        create_iso: vsrx
        image: juniper/vsrx3
      mgmt_if: fxp0
      virtualbox:
        image: juniper/vsrx3
    vyos:
      group_vars:
        ansible_connection: paramiko
        ansible_network_os: vyos
        ansible_ssh_pass: vagrant
        ansible_user: vagrant
      interface_name: eth%d
      libvirt:
        image: vyos/vyos
      mgmt_if: eth0
  eigrp:
    as: 1
    attributes:
      global:
      - af
      - as
      link:
      - passive
      node:
      - af
      - as
    supported_on:
    - csr
    - iosv
    - nxos
  evpn:
    attributes:
      global:
      - use_ibgp
    requires:
    - bgp
    supported_on:
    - sros
    - srlinux
    - frr
    use_ibgp: true
  isis:
    area: 49.0001
    attributes:
      global:
      - af
      - area
      - type
      - bfd
      link:
      - metric
      - cost
      - type
      - bfd
      - network_type
      - passive
      node:
      - af
      - area
      - net
      - type
      - bfd
    supported_on:
    - eos
    - frr
    - csr
    - iosv
    - nxos
    - vsrx
    - srlinux
    - sros
    - none
    type: level-2
  module:
  - ospf
  - bgp
  mpls:
    attributes:
      global:
      - ldp
      - bgp
      - vpn
      link:
      - ldp
      node:
      - ldp
      - bgp
      - vpn
    config_after:
    - ospf
    - isis
    - bgp
    ldp: true
    supported_on:
    - eos
    - iosv
    - csr
    transform_after:
    - bgp
  name: netsim-veos-mpls_b
  ospf:
    area: 0.0.0.0
    attributes:
      global:
      - af
      - area
      - process
      - reference_bandwidth
      - bfd
      link:
      - cost
      - area
      - bfd
      - network_type
      - passive
      node:
      - af
      - area
      - process
      - reference_bandwidth
      - bfd
      - router_id
      node_copy:
      - area
    supported_on:
    - arcos
    - cumulus
    - cumulus_nvue
    - eos
    - fortios
    - frr
    - csr
    - iosv
    - nxos
    - vsrx
    - vyos
    - routeros
    - srlinux
    - sros
    - none
  outputs:
    graph:
      as_clusters: true
      colors:
        as: '#e8e8e8'
        ebgp: '#b21a1a'
        ibgp: '#613913'
        node: '#ff9f01'
        stub: '#d1bfab'
      interface_labels: false
      margins:
        as: 16
    provider: {}
    yaml=netlab.snapshot.yml:
      filename: {}
  ports:
    gnmi: 57400
    http: 80
    https: 443
    netconf: 830
    ssh: 22
  processor: b'GenuineIntel'
  provider: libvirt
  providers:
    clab:
      bridge_type: bridge
      cleanup:
      - clab.yml
      config: clab.yml
      probe:
      - containerlab version
      start: sudo -E containerlab deploy -t clab.yml
      stop: sudo -E containerlab destroy --cleanup -t clab.yml
      template: clab.j2
    libvirt:
      cleanup:
      - Vagrantfile
      config: Vagrantfile
      probe:
      - kvm-ok
      - virsh net-list
      - vagrant plugin list
      start: vagrant up --provider libvirt
      stop: vagrant destroy -f
    virtualbox:
      cleanup:
      - Vagrantfile
      config: Vagrantfile
      forwarded:
        http: 8000
        netconf: 3000
        ssh: 2000
      inventory:
        ansible_host: 127.0.0.1
      inventory_port_map:
        ssh: ansible_port
      probe:
      - VBoxManage -h
      - vagrant plugin list
      start: vagrant up --provider virtualbox
      stop: vagrant destroy -f
  sr:
    attributes:
      global:
      - srgb_range_start
      - srgb_range_size
      - ipv6_sid_offset
      node:
      - srgb_range_start
      - srgb_range_size
      - ipv6_sid_offset
    requires:
    - isis
    supported_on:
    - csr
    - eos
    - srlinux
    - sros
    - vsrx
  srv6:
    address_families:
    - ipv4
    - ipv6
    attributes:
      global:
      - locator
      - address_families
      - bgp
      - isis
      node:
      - locator
      - address_families
      - bgp
      - isis
      - transit_only
    bgp: false
    isis: true
    locator: 2001:db8:aaaa
    requires:
    - isis
    supported_on:
    - sros
  vrf:
    as: 65000
    attributes:
      global:
      - as
      interface: str
      link: str
      node:
      - as
    supported_on:
    - eos
    - iosv
    - csr
groups:
  as65000:
    members:
    - rr1
    - rr2
    - pe1
    - pe2
    node_data:
      bgp:
        advertise_loopback: false
  as65001:
    members:
    - x1
includes:
- defaults
- global_defaults
input:
- topology.yml
- package:topology-defaults.yml
links:
- interfaces:
  - ipv4: 10.1.0.1/30
    node: pe1
  - ipv4: 10.1.0.2/30
    node: rr1
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.1/30
    node: pe1
  linkindex: 1
  name: pe1 - rr1
  node_count: 2
  prefix:
    ipv4: 10.1.0.0/30
  right:
    ifname: Ethernet1
    ipv4: 10.1.0.2/30
    node: rr1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.5/30
    node: pe2
  - ipv4: 10.1.0.6/30
    node: rr1
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.5/30
    node: pe2
  linkindex: 2
  name: pe2 - rr1
  node_count: 2
  prefix:
    ipv4: 10.1.0.4/30
  right:
    ifname: Ethernet2
    ipv4: 10.1.0.6/30
    node: rr1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.9/30
    node: pe1
  - ipv4: 10.1.0.10/30
    node: rr2
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.9/30
    node: pe1
  linkindex: 3
  name: pe1 - rr2
  node_count: 2
  prefix:
    ipv4: 10.1.0.8/30
  right:
    ifname: Ethernet1
    ipv4: 10.1.0.10/30
    node: rr2
  type: p2p
- interfaces:
  - ipv4: 10.1.0.13/30
    node: pe2
  - ipv4: 10.1.0.14/30
    node: rr2
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.13/30
    node: pe2
  linkindex: 4
  name: pe2 - rr2
  node_count: 2
  prefix:
    ipv4: 10.1.0.12/30
  right:
    ifname: Ethernet2
    ipv4: 10.1.0.14/30
    node: rr2
  type: p2p
- interfaces:
  - ipv4: 10.1.0.17/30
    node: rr1
  - ipv4: 10.1.0.18/30
    node: x1
  left:
    ifname: Ethernet3
    ipv4: 10.1.0.17/30
    node: rr1
  linkindex: 5
  name: rr1 - x1
  node_count: 2
  prefix:
    ipv4: 10.1.0.16/30
  right:
    ifname: Ethernet1
    ipv4: 10.1.0.18/30
    node: x1
  role: external
  type: p2p
- interfaces:
  - ipv4: 10.1.0.21/30
    node: c11
  - ipv4: 10.1.0.22/30
    node: pe1
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.21/30
    node: c11
  linkindex: 6
  name: c11 - pe1
  node_count: 2
  prefix:
    ipv4: 10.1.0.20/30
  right:
    ifname: Ethernet3
    ipv4: 10.1.0.22/30
    node: pe1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.25/30
    node: c12
  - ipv4: 10.1.0.26/30
    node: pe1
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.25/30
    node: c12
  linkindex: 7
  name: c12 - pe1
  node_count: 2
  prefix:
    ipv4: 10.1.0.24/30
  right:
    ifname: Ethernet4
    ipv4: 10.1.0.26/30
    node: pe1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.29/30
    node: c21
  - ipv4: 10.1.0.30/30
    node: pe2
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.29/30
    node: c21
  linkindex: 8
  name: c21 - pe2
  node_count: 2
  prefix:
    ipv4: 10.1.0.28/30
  right:
    ifname: Ethernet3
    ipv4: 10.1.0.30/30
    node: pe2
  type: p2p
- interfaces:
  - ipv4: 10.1.0.33/30
    node: p1
  - ipv4: 10.1.0.34/30
    node: pe1
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.33/30
    node: p1
  linkindex: 9
  name: p1 - pe1
  node_count: 2
  prefix:
    ipv4: 10.1.0.32/30
  right:
    ifname: Ethernet5
    ipv4: 10.1.0.34/30
    node: pe1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.37/30
    node: p1
  - ipv4: 10.1.0.38/30
    node: p2
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.37/30
    node: p1
  linkindex: 10
  name: p1 - p2
  node_count: 2
  prefix:
    ipv4: 10.1.0.36/30
  right:
    ifname: Ethernet1
    ipv4: 10.1.0.38/30
    node: p2
  type: p2p
- interfaces:
  - ipv4: 10.1.0.41/30
    node: p2
  - ipv4: 10.1.0.42/30
    node: p3
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.41/30
    node: p2
  linkindex: 11
  name: p2 - p3
  node_count: 2
  prefix:
    ipv4: 10.1.0.40/30
  right:
    ifname: Ethernet1
    ipv4: 10.1.0.42/30
    node: p3
  type: p2p
- interfaces:
  - ipv4: 10.1.0.45/30
    node: p3
  - ipv4: 10.1.0.46/30
    node: pe2
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.45/30
    node: p3
  linkindex: 12
  name: p3 - pe2
  node_count: 2
  prefix:
    ipv4: 10.1.0.44/30
  right:
    ifname: Ethernet4
    ipv4: 10.1.0.46/30
    node: pe2
  type: p2p
- interfaces:
  - ipv4: 10.1.0.49/30
    node: p4
  - ipv4: 10.1.0.50/30
    node: pe1
  left:
    ifname: Ethernet1
    ipv4: 10.1.0.49/30
    node: p4
  linkindex: 13
  name: p4 - pe1
  node_count: 2
  prefix:
    ipv4: 10.1.0.48/30
  right:
    ifname: Ethernet6
    ipv4: 10.1.0.50/30
    node: pe1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.53/30
    node: p4
  - ipv4: 10.1.0.54/30
    node: p5
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.53/30
    node: p4
  linkindex: 14
  name: p4 - p5
  node_count: 2
  prefix:
    ipv4: 10.1.0.52/30
  right:
    ifname: Ethernet1
    ipv4: 10.1.0.54/30
    node: p5
  type: p2p
- interfaces:
  - ipv4: 10.1.0.57/30
    node: p5
  - ipv4: 10.1.0.58/30
    node: pe2
  left:
    ifname: Ethernet2
    ipv4: 10.1.0.57/30
    node: p5
  linkindex: 15
  name: p5 - pe2
  node_count: 2
  prefix:
    ipv4: 10.1.0.56/30
  right:
    ifname: Ethernet5
    ipv4: 10.1.0.58/30
    node: pe2
  type: p2p
module:
- ospf
- bgp
name: netsim-veos-mpls_b
nodes:
  c11:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 10
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.21/30
      linkindex: 6
      name: c11 -> pe1
      neighbors:
      - ifname: Ethernet3
        ipv4: 10.1.0.22/30
        node: pe1
      remote_id: 3
      remote_ifindex: 3
      type: p2p
    loopback:
      ipv4: 10.0.0.10/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.110
      mac: 08-4F-A9-00-00-0A
    module: []
    name: c11
  c12:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 11
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.25/30
      linkindex: 7
      name: c12 -> pe1
      neighbors:
      - ifname: Ethernet4
        ipv4: 10.1.0.26/30
        node: pe1
      remote_id: 3
      remote_ifindex: 4
      type: p2p
    loopback:
      ipv4: 10.0.0.11/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.111
      mac: 08-4F-A9-00-00-0B
    module: []
    name: c12
  c21:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 12
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.29/30
      linkindex: 8
      name: c21 -> pe2
      neighbors:
      - ifname: Ethernet3
        ipv4: 10.1.0.30/30
        node: pe2
      remote_id: 4
      remote_ifindex: 3
      type: p2p
    loopback:
      ipv4: 10.0.0.12/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.112
      mac: 08-4F-A9-00-00-0C
    module: []
    name: c21
  p1:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 5
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.33/30
      linkindex: 9
      name: p1 -> pe1
      neighbors:
      - ifname: Ethernet5
        ipv4: 10.1.0.34/30
        node: pe1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 3
      remote_ifindex: 5
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.37/30
      linkindex: 10
      name: p1 -> p2
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.38/30
        node: p2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 6
      remote_ifindex: 1
      type: p2p
    loopback:
      ipv4: 10.0.0.5/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.105
      mac: 08-4F-A9-00-00-05
    module:
    - ospf
    name: p1
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.5
  p2:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 6
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.38/30
      linkindex: 10
      name: p2 -> p1
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.37/30
        node: p1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 5
      remote_ifindex: 2
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.41/30
      linkindex: 11
      name: p2 -> p3
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.42/30
        node: p3
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 7
      remote_ifindex: 1
      type: p2p
    loopback:
      ipv4: 10.0.0.6/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.106
      mac: 08-4F-A9-00-00-06
    module:
    - ospf
    name: p2
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.6
  p3:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 7
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.42/30
      linkindex: 11
      name: p3 -> p2
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.41/30
        node: p2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 6
      remote_ifindex: 2
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.45/30
      linkindex: 12
      name: p3 -> pe2
      neighbors:
      - ifname: Ethernet4
        ipv4: 10.1.0.46/30
        node: pe2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 4
      remote_ifindex: 4
      type: p2p
    loopback:
      ipv4: 10.0.0.7/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.107
      mac: 08-4F-A9-00-00-07
    module:
    - ospf
    name: p3
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.7
  p4:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 8
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.49/30
      linkindex: 13
      name: p4 -> pe1
      neighbors:
      - ifname: Ethernet6
        ipv4: 10.1.0.50/30
        node: pe1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 3
      remote_ifindex: 6
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.53/30
      linkindex: 14
      name: p4 -> p5
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.54/30
        node: p5
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 9
      remote_ifindex: 1
      type: p2p
    loopback:
      ipv4: 10.0.0.8/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.108
      mac: 08-4F-A9-00-00-08
    module:
    - ospf
    name: p4
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.8
  p5:
    af:
      ipv4: true
    box: arista/veos
    device: eos
    id: 9
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.54/30
      linkindex: 14
      name: p5 -> p4
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.53/30
        node: p4
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 8
      remote_ifindex: 2
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.57/30
      linkindex: 15
      name: p5 -> pe2
      neighbors:
      - ifname: Ethernet5
        ipv4: 10.1.0.58/30
        node: pe2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 4
      remote_ifindex: 5
      type: p2p
    loopback:
      ipv4: 10.0.0.9/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.109
      mac: 08-4F-A9-00-00-09
    module:
    - ospf
    name: p5
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.9
  pe1:
    af:
      ipv4: true
    bgp:
      advertise_loopback: false
      as: 65000
      community:
        ebgp:
        - standard
        ibgp:
        - standard
        - extended
      ipv4: true
      neighbors:
      - as: 65000
        ipv4: 10.0.0.1
        name: rr1
        rr: true
        type: ibgp
      - as: 65000
        ipv4: 10.0.0.2
        name: rr2
        rr: true
        type: ibgp
      next_hop_self: true
      router_id: 10.0.0.3
    box: arista/veos
    device: eos
    id: 3
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.1/30
      linkindex: 1
      name: pe1 -> rr1
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.2/30
        node: rr1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 1
      remote_ifindex: 1
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.9/30
      linkindex: 3
      name: pe1 -> rr2
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.10/30
        node: rr2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 2
      remote_ifindex: 1
      type: p2p
    - ifindex: 3
      ifname: Ethernet3
      ipv4: 10.1.0.22/30
      linkindex: 6
      name: pe1 -> c11
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.21/30
        node: c11
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 10
      remote_ifindex: 1
      type: p2p
    - ifindex: 4
      ifname: Ethernet4
      ipv4: 10.1.0.26/30
      linkindex: 7
      name: pe1 -> c12
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.25/30
        node: c12
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 11
      remote_ifindex: 1
      type: p2p
    - ifindex: 5
      ifname: Ethernet5
      ipv4: 10.1.0.34/30
      linkindex: 9
      name: pe1 -> p1
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.33/30
        node: p1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 5
      remote_ifindex: 1
      type: p2p
    - ifindex: 6
      ifname: Ethernet6
      ipv4: 10.1.0.50/30
      linkindex: 13
      name: pe1 -> p4
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.49/30
        node: p4
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 8
      remote_ifindex: 1
      type: p2p
    loopback:
      ipv4: 10.0.0.3/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.103
      mac: 08-4F-A9-00-00-03
    module:
    - ospf
    - bgp
    name: pe1
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.3
  pe2:
    af:
      ipv4: true
    bgp:
      advertise_loopback: false
      as: 65000
      community:
        ebgp:
        - standard
        ibgp:
        - standard
        - extended
      ipv4: true
      neighbors:
      - as: 65000
        ipv4: 10.0.0.1
        name: rr1
        rr: true
        type: ibgp
      - as: 65000
        ipv4: 10.0.0.2
        name: rr2
        rr: true
        type: ibgp
      next_hop_self: true
      router_id: 10.0.0.4
    box: arista/veos
    device: eos
    id: 4
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.5/30
      linkindex: 2
      name: pe2 -> rr1
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.6/30
        node: rr1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 1
      remote_ifindex: 2
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.13/30
      linkindex: 4
      name: pe2 -> rr2
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.14/30
        node: rr2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 2
      remote_ifindex: 2
      type: p2p
    - ifindex: 3
      ifname: Ethernet3
      ipv4: 10.1.0.30/30
      linkindex: 8
      name: pe2 -> c21
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.29/30
        node: c21
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 12
      remote_ifindex: 1
      type: p2p
    - ifindex: 4
      ifname: Ethernet4
      ipv4: 10.1.0.46/30
      linkindex: 12
      name: pe2 -> p3
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.45/30
        node: p3
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 7
      remote_ifindex: 2
      type: p2p
    - ifindex: 5
      ifname: Ethernet5
      ipv4: 10.1.0.58/30
      linkindex: 15
      name: pe2 -> p5
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.57/30
        node: p5
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 9
      remote_ifindex: 2
      type: p2p
    loopback:
      ipv4: 10.0.0.4/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.104
      mac: 08-4F-A9-00-00-04
    module:
    - ospf
    - bgp
    name: pe2
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.4
  rr1:
    af:
      ipv4: true
    bgp:
      advertise_loopback: false
      as: 65000
      community:
        ebgp:
        - standard
        ibgp:
        - standard
        - extended
      ipv4: true
      neighbors:
      - as: 65000
        ipv4: 10.0.0.2
        name: rr2
        rr: true
        type: ibgp
      - as: 65000
        ipv4: 10.0.0.3
        name: pe1
        type: ibgp
      - as: 65000
        ipv4: 10.0.0.4
        name: pe2
        type: ibgp
      - as: 65001
        ifindex: 3
        ipv4: 10.1.0.18
        name: x1
        type: ebgp
      next_hop_self: true
      router_id: 10.0.0.1
      rr: true
      rr_cluster_id: 10.0.0.1
    box: arista/veos
    device: eos
    id: 1
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.2/30
      linkindex: 1
      name: rr1 -> pe1
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.1/30
        node: pe1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 3
      remote_ifindex: 1
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.6/30
      linkindex: 2
      name: rr1 -> pe2
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.5/30
        node: pe2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 4
      remote_ifindex: 1
      type: p2p
    - ifindex: 3
      ifname: Ethernet3
      ipv4: 10.1.0.17/30
      linkindex: 5
      name: rr1 -> x1
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.18/30
        node: x1
      remote_id: 13
      remote_ifindex: 1
      role: external
      type: p2p
    loopback:
      ipv4: 10.0.0.1/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.101
      mac: 08-4F-A9-00-00-01
    module:
    - ospf
    - bgp
    name: rr1
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.1
  rr2:
    af:
      ipv4: true
    bgp:
      advertise_loopback: false
      as: 65000
      community:
        ebgp:
        - standard
        ibgp:
        - standard
        - extended
      ipv4: true
      neighbors:
      - as: 65000
        ipv4: 10.0.0.1
        name: rr1
        rr: true
        type: ibgp
      - as: 65000
        ipv4: 10.0.0.3
        name: pe1
        type: ibgp
      - as: 65000
        ipv4: 10.0.0.4
        name: pe2
        type: ibgp
      next_hop_self: true
      router_id: 10.0.0.2
      rr: true
      rr_cluster_id: 10.0.0.1
    box: arista/veos
    device: eos
    id: 2
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.10/30
      linkindex: 3
      name: rr2 -> pe1
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.9/30
        node: pe1
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 3
      remote_ifindex: 2
      type: p2p
    - ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.14/30
      linkindex: 4
      name: rr2 -> pe2
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.13/30
        node: pe2
      ospf:
        area: 0.0.0.0
        network_type: point-to-point
        passive: false
      remote_id: 4
      remote_ifindex: 2
      type: p2p
    loopback:
      ipv4: 10.0.0.2/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.102
      mac: 08-4F-A9-00-00-02
    module:
    - ospf
    - bgp
    name: rr2
    ospf:
      af:
        ipv4: true
      area: 0.0.0.0
      router_id: 10.0.0.2
  x1:
    af:
      ipv4: true
    bgp:
      as: 65001
      router_id: 10.0.0.13
    box: arista/veos
    device: eos
    id: 13
    interfaces:
    - ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.18/30
      linkindex: 5
      name: x1 -> rr1
      neighbors:
      - ifname: Ethernet3
        ipv4: 10.1.0.17/30
        node: rr1
      remote_id: 1
      remote_ifindex: 3
      role: external
      type: p2p
    loopback:
      ipv4: 10.0.0.13/32
    mgmt:
      ifname: Management1
      ipv4: 192.168.121.113
      mac: 08-4F-A9-00-00-0D
    module: []
    name: x1
ospf:
  area: 0.0.0.0
provider: libvirt
